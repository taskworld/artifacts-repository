# artifacts-repository
[WIP] A simple artifact repository (a.k.a. binary repository) for frontend apps backed by Firebase Firestore and Firebase Storage.

## Background

Our frontend app has to be deployed for multiple environments,
e.g. deployed to CDN (cloud), packaged into mobile/desktop apps,
deployed to VPCs or on-premises customers.

In the past, we had to download the source code and run `webpack` for each environment.
This is time consuming and prone to errors.
What if we could use the single webpack bundle and deploy it everywhere?

We use a very abstract definition of an artifact â€” just a `.tar` file.

## Architecture

1.  A **project** contains multiple **artifacts**.

2.  An **artifact**:

    - Is a `.tar.gz` tarball.

    - Contains the build output, e.g. the built assets such as HTML, JS, CSS and related resources.
    
    - May also contain information about the build, e.g. webpack stats, test reports, etc. This allows us to analyze.

    - The same artifact can be deployed to a web server, CDN, on-premises, or packaged into a mobile or desktop app.

    - Contains `info.json` file that can be describes the artifact.

    - Should be generated by CI but can be generated manually as well.

3.  When a project is built by CI, it pushes the artifact to the repository.

4.  Deployment scripts can download the artifact from this repository and use it to deploy to the target environment.

